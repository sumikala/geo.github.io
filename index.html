<!doctype html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="src/ol.css"/>
    <link rel="stylesheet" href="src/layerswitcher/ol3-layerswitcher.css" />
    <link rel="stylesheet" href="src/layerswitcher/layerswitcher.css" />
    <style>
      .map {
        height: 400px;
        width: 400px;
      }
	  #legende{
		position: absolute;
	    bottom: 1em;
        left: 20.5em;
	background:rgb(255,255,255,0.3);
	z-index: 100000;
	}
	#infobox {
    width: 100%;
    height: auto;
    padding: 0;
    margin-left: auto;
    margin-right: auto;
    background-color: #fff;
    border: 2px solid #DCDCD8;
}
#info, #info iframe {
    background-color: #fff;
    border: 0.5px solid #fff;
    border-radius: 1px;
    padding: 0px;
    font-family: sans-serif;
    height: auto;
    width: 100%;
}
    </style>
    <script src="src/ol.js" type="text/javascript"></script>
	    <script src="src/layerswitcher/ol3-layerswitcher.js"></script>
    
    <title>OpenLayers example</title>
  </head>
  <body>
    <h2>World Map</h2>
	
	
    <div id="map" class="map">
		<div id="legende">
		<h2>Legend:</h2>

		<div class="udiv_legende" id="legende_1">
        <img src="http://wms.qgiscloud.com/sumikala/india_states?&SERVICE=WMS&&REQUEST=GetLegendGraphic&LAYER=INDIA&FORMAT=image/png&WIDTH=12&HEIGHT=12&SLD_VERSION=1.1.0">
        <br>
        <br>
		</div>
		</div></div>
<script type="text/javascript">
      var pureCoverage = false;
      // if this is just a coverage or a group of them, disable a few items,
      // and default to jpeg format
      var format = 'image/png';
      var bounds = [68.120198, 6.754256,
                    97.415161, 37.135643];
      if (pureCoverage) {
        document.getElementById('antialiasSelector').disabled = true;
        document.getElementById('jpeg').selected = true;
        format = "image/jpeg";
      }

      
      var OSM = new ol.layer.Tile({
					title: 'OSM',
					type: 'base',
					visible: true,
					source: new ol.source.OSM()
				});
				baselayers = new ol.layer.Group({
            'title': 'Base maps',
			layers: [OSM]
		});
	  var india_state = new ol.layer.Image({
	  title:"India States",
        visible:false,
		source: new ol.source.ImageWMS({
          ratio: 1,
		  serverType: 'geoserver',
          url: 'http://wms.qgiscloud.com/sumikala/india_states?&SERVICE=WMS&VERSION=1.3.0&REQUEST=GetLegendGraphic&LAYER=INDIA&FORMAT=image/png&STYLE=default&SLD_VERSION=1.1.0'
        })
      });
	  var patient = new ol.layer.Image({
	  title:"Patient Travel History",
        visible:false,
		source: new ol.source.ImageWMS({
          ratio: 1,
          url: 'http://localhost:8080/geoserver/cite/wms',
		  
          params: {'FORMAT': format,
                   'VERSION': '1.1.0',  
                "STYLES": '',
                "LAYERS": 'cite:indis_covid_travel'
          }
        })
      });
     

	  view = new ol.View({
		center: [78,28],
		zoom: 4,
		projection: 'EPSG:4326',
		rotation: 0
		})
      var map = new ol.Map({

		controls: ol.control.defaults().extend([new ol.control.ScaleLine({
            units: 'metric'
          }),
		  new ol.control.MousePosition({
          coordinateFormat: function(coord) {
              return ol.coordinate.format(coord, '{x}, {y}', 4);
          },
          projection: 'EPSG:4326',
          className: 'custom-mouse-position',
          target: document.getElementById('map'),
          undefinedHTML: '&nbsp;'
        })
		  
        ]),
		
		layers: [baselayers,india_state,patient],
		target: "map",
		
		view: view
		
	});

	
      //map.getView().fit(bounds, map.getSize());

       var layerSwitcher = new ol.control.LayerSwitcher({
        tipLabel: 'LÃ©gende' // Optional label for button
    });
    map.addControl(layerSwitcher);
	
    </script>
  </body>
</html> 
